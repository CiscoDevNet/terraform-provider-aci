default:
  {{- range .Properties}}
    {{- if .DefaultValue}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: "{{overwritePropertyValue .PkgName .SnakeCaseName .DefaultValue "default" $.Definitions}}"
    {{- else if not .IsNaming}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: "{{overwritePropertyValue .PkgName .SnakeCaseName "" "default" $.Definitions}}"
    {{- end}}
  {{- end}}

datasource_required:
  {{- range .Properties}}{{$testValue := createTestValue .SnakeCaseName}}
    {{- if or .IsNaming }}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: "{{overwritePropertyValue .PkgName .SnakeCaseName $testValue "datasource_required" $.Definitions}}"
    {{- end}}
  {{- end}}

resource_required:
  {{- range .Properties}}{{$testValue := createTestValue .SnakeCaseName}}
    {{- if or .IsNaming .IsRequired}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: "{{overwritePropertyValue .PkgName .SnakeCaseName $testValue "resource_required" $.Definitions}}"
    {{- end}}
  {{- end}}

all:
  {{- range .Properties}}
    {{- if overwriteProperty .PkgName .SnakeCaseName $.Definitions | eq "annotation"}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: "annotation"
    {{- else if .DefaultValue}}{{$length := len .ValidValues}}
      {{- if eq $length 0}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: "{{overwritePropertyValue .PkgName .SnakeCaseName .DefaultValue "all" $.Definitions}}"
      {{- else }}{{$testValue := index .ValidValues 0 }}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: "{{overwritePropertyValue .PkgName .SnakeCaseName $testValue "all" $.Definitions}}"
      {{- end}}
    {{- else if not .IsNaming}}{{$testValue := overwriteProperty .PkgName .SnakeCaseName $.Definitions}}
  {{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: "{{overwritePropertyValue .PkgName .SnakeCaseName $testValue "all" $.Definitions}}"{{- end}}
    {{- end}}
{{ if .Children}}
children:
  {{- range $key, $value := $.Children}}{{$name := .ResourceName}}
  {{.ResourceName}}s:
    - {{ range .Properties}}{{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: {{if .DefaultValue}}{{$length := len .ValidValues}}{{if eq $length 0}}"{{.DefaultValue }}"{{else}}"{{ index .ValidValues 0 }}"{{- end}}{{else if not .IsNaming}}"{{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}"{{else}}"{{$name}}_1"{{- end}}
      {{ end}}
    - {{ range .Properties}}{{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}: {{if .DefaultValue}}{{$length := len .ValidValues}}{{if eq $length 0}}"{{.DefaultValue }}"{{ else if ge $length 2}}"{{ index .ValidValues 1 }}"{{else}}"{{ index .ValidValues 0 }}"{{- end}}{{else if not .IsNaming}}"{{overwriteProperty .PkgName .SnakeCaseName $.Definitions}}"{{- else }}"{{$name}}_2"{{- end}}
      {{ end}}{{- end}}{{- end}}
{{- if .ContainedBy}}
parents:
    {{- range $key := .DocumentationExamples}}{{$index := 0}}{{$parentDependency := getParentTestDependencies $.PkgName $index $.Definitions}}
  - class_name: "{{ $key }}"
    parent_dependency: "{{$parentDependency.parent_dependency}}"
    parent_dn: "{{createParentDnValue $key "test" $.Definitions}}"
    class_in_parent: {{$parentDependency.class_in_parent}}{{$index = add $index 1}}
    {{- end}}
{{- end}}
